<!--
  ~ Copyright (c) 2014 streamdrill UG (haftungsbeschraenkt). All rights reserved.
  -->


<div class="row">
  <div class="col-md-12">
    <div class="page-header">
      <h1>Realtime Report
        <small>current trend data</small>
      </h1>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-4">
    <h3>Pages</h3>

    <div class="well well-sm">
      <div class="row">
        <div ng-controller="PageTrendController" class="col-md-12">
          <form role="form">
            <div class="form-group">
              <input type="text" ng-model="searchPage" class="search-query col-md-12" placeholder="Filter Pages">
            </div>
          </form>

          <div ng-repeat="item in trend | filter:searchPage | orderBy:'-score' | limitTo:20 track by item.keys[0]"
               class="col-md-12">
            <div class="row">
              <div class="col-md-1"><span class="pull-right">{{$index+1}}</span></div>
              <div class="col-md-8">
                <span ng-repeat="key in item.keys"><a href="#/page/{{key | escape}}">{{key}}</a></span>
              </div>
              <div class="col-md-3">
                <span d3-transition class="count pull-right" data-count="{{item.score}}"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <h3>Actions</h3>

    <div class="well well-sm">
      <div class="row">
        <div ng-controller="ActionTrendController" class="col-md-12">
          <form role="form">
            <div class="form-group">
              <input type="text" ng-model="searchAction" class="search-query col-md-12" placeholder="Filter Actions">
            </div>
          </form>

          <div ng-repeat="item in trend | filter:searchAction | orderBy:'-score' | limitTo:20 track by item.keys[0]"
               class="col-md-12">
            <div class="row">
              <div class="col-md-1"><span class="pull-right">{{$index+1}}</span></div>
              <div class="col-md-8">
                <span ng-repeat="key in item.keys"><a href="#/action/{{key}}">{{key}}</a></span>
              </div>
              <div class="col-md-3">
                <span d3-transition class="count pull-right" data-count="{{item.score}}"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <h3>Domains</h3>

    <div class="well well-sm">
      <div class="row">
        <div ng-controller="DomainTrendController" class="col-md-12">
            <form role="form">
              <div class="form-group">
                <input type="text" ng-model="searchDomain" class="search-query col-md-12" placeholder="Filter Domains">
              </div>
            </form>

          <div ng-repeat="item in trend | filter:searchDomain | orderBy:'-score' | limitTo:20 track by item.keys[0]"
               class="col-md-12">
            <div class="row">
              <div class="col-md-1"><span class="pull-right">{{$index+1}}</span></div>
              <div class="col-md-8">
                <span ng-repeat="key in item.keys"><a href="#/domain/{{key}}">{{key}}</a></span>
              </div>
              <div class="col-md-3">
                <span d3-transition class="count pull-right" data-count="{{item.score}}"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

